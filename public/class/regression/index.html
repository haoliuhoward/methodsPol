<!DOCTYPE html>
<html lang="en" 
      xmlns:og="http://ogp.me/ns#" 
      xmlns:fb="https://www.facebook.com/2008/fbml">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="In-class example Here’s the code we’ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesn’t trigger download, you should right-click and select “save link as…”
day1-models.R day2-models.R Drawing lines (geom_smooth) Why draw trend lines? Trend lines give us a good, educated guess as to what the value of a Y variable is given some value of X. We can draw a trend line (or line of best fit) using geom_smooth, as below.">

  
  <link rel="alternate" hreflang="en" href="/class/regression/">

  


  
  
  
  <meta name="theme-color" content="#b55716">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu1e2353bd87e0b7890d448fb2a2c440a0_1004273_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu1e2353bd87e0b7890d448fb2a2c440a0_1004273_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="/class/regression/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@haoliuhoward">
  <meta property="twitter:creator" content="@haoliuhoward">
  
  <meta property="og:site_name" content="Methods of Political Analysis">
  <meta property="og:url" content="/class/regression/">
  <meta property="og:title" content="Correlation and regression | Methods of Political Analysis">
  <meta property="og:description" content="In-class example Here’s the code we’ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesn’t trigger download, you should right-click and select “save link as…”
day1-models.R day2-models.R Drawing lines (geom_smooth) Why draw trend lines? Trend lines give us a good, educated guess as to what the value of a Y variable is given some value of X. We can draw a trend line (or line of best fit) using geom_smooth, as below."><meta property="og:image" content="/media/social-image.png">
  <meta property="twitter:image" content="/media/social-image.png"><meta property="og:locale" content="en">
  
    
    
  

  



  


  


  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/img/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/img/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16" />
  <meta name="application-name" content="POLI502: Methods of Political Analysis" />
  <meta name="msapplication-TileColor" content="#FFFFFF" />
  <meta name="msapplication-TileImage" content="/img/mstile-144x144.png" />


  <title>Correlation and regression | Methods of Political Analysis</title>

</head>


<body id="top" data-spy="scroll" data-offset="70"
    data-target="#TableOfContents"
    >

    <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Methods of Political Analysis</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Methods of Political Analysis</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/assignment/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/reference/"><span>Reference</span></a>
        </li>

        
        

        

        
        
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/"><span><i class="fab fa-slack"></i> Slack</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      

      

      

    </ul>

  </div>
</nav>



    

<div class="container-fluid docs">
    <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
            





  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/class/getting-started/">Class</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/class/getting-started/">R, Rstudio, basics</a>
      </li>
      
      <li >
        <a href="/class/dataviz/">Data visualization</a>
      </li>
      
      <li >
        <a href="/class/data-wrangle/">Data Wrangling</a>
      </li>
      
      <li >
        <a href="/class/data-summary/">Summarizing Data</a>
      </li>
      
      <li >
        <a href="/class/data-tidy/">Tidy data</a>
      </li>
      
      <li class="active">
        <a href="/class/regression/">Correlation and regression</a>
      </li>
      
      <li >
        <a href="/class/prediction/">Prediction</a>
      </li>
      
      <li >
        <a href="/class/causality/">Causality</a>
      </li>
      
      <li >
        <a href="/class/confounds/">Confounds</a>
      </li>
      
      <li >
        <a href="/class/dags/">DAGs</a>
      </li>
      
      <li >
        <a href="/class/controls/">Natural Experiments</a>
      </li>
      
      <li >
        <a href="/class/fixed-effects/">Fixed Effects &#43; DID</a>
      </li>
      
      <li >
        <a href="/class/uncertainty/">Uncertainty</a>
      </li>
      
      <li >
        <a href="/class/rdd/">Regression discontinuity</a>
      </li>
      
      <li >
        <a href="/class/bootstrap/">Bootstrap</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

        </div>

        

        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

            <article class="article">

                <div class="docs-article-container">
                    <h1>Correlation and regression</h1>

                    

                    

                    

                    <div class="article-style">
                        <h2 id="in-class-example">In-class example</h2>
<p>Here’s the code we’ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesn’t trigger download, you should right-click and select “save link as…”</p>
<ul>
<li>
<a href="/slides/code/day1-models.R"><i class="fas fa-file-archive"></i> <code>day1-models.R</code></a></li>
<li>
<a href="/slides/code/day2-models.R"><i class="fas fa-file-archive"></i> <code>day2-models.R</code></a></li>
</ul>
<h2 id="drawing-lines-geom_smooth">Drawing lines (geom_smooth)</h2>
<p>Why draw trend lines? Trend lines give us a good, educated guess as to what the value of a Y variable is given some value of X. We can draw a trend line (or line of best fit) using <code>geom_smooth</code>, as below. Notice <code>method = &quot;lm&quot;</code>.</p>
<pre><code class="language-r"># libraries
library(tidyverse)

# mtcars
ggplot(mtcars, aes(x = wt, y = mpg)) + geom_point() +
  geom_smooth(method = &quot;lm&quot;)
</code></pre>
<img src="/class/regression_files/figure-html/unnamed-chunk-1-1.png" width="672" />
<h2 id="ggcorrplot">ggcorrplot</h2>
<pre><code class="language-r"># libraries
library(tidyverse)
library(socviz)
library(fivethirtyeight)
library(gapminder)
library(nycflights13)
library(ggcorrplot)
library(juanr)
library(palmerpenguins)
</code></pre>
<p>Look at the correlations:</p>
<pre><code class="language-r"># switch out gapminder with a dataset you want below
therm %&gt;%
  # correlation only works with numeric columns; keep only those
  select(where(is.numeric)) %&gt;%
  # the cor() function doesn't take NA; drop them all
  drop_na() %&gt;%
  # get the correlation
  cor() %&gt;%
  # plot the correlation
  ggcorrplot(lab = TRUE)
</code></pre>
<img src="/class/regression_files/figure-html/unnamed-chunk-3-1.png" width="672" />
<h2 id="draw-the-line">Draw the line</h2>
<pre><code class="language-r"># draw a line: alter the intercept and slope in geom_abline()
# to draw the line
  ggplot() + geom_abline(intercept = 1, slope = 2, size = 1) +
  # change the limits on the x and y-axis
  scale_x_continuous(limits = c(-10, 10)) +
  scale_y_continuous(limits = c(-10, 10)) +
  # add a vertical and horizontal line at 0
  geom_hline(yintercept = 0, lty = 2) +
  geom_vline(xintercept = 0, lty = 2) +
  theme_bw()
</code></pre>
<img src="/class/regression_files/figure-html/unnamed-chunk-4-1.png" width="672" />
<h2 id="convince-yourself">Convince yourself</h2>
<p>Make the scatterplot:</p>
<pre><code class="language-r"># convince yourself about the line of best fit: run this code below
# set the seed
set.seed(1990)

# make the fake data
df = tibble(x = rnorm(50, mean = 10),
            y = 3 + 2*x + rnorm(50))

# line of best fit?
model = lm(y ~ x, df)
true = tibble(true_intercept = coef(model)[1],
              true_slope = coef(model)[2])

ggplot(data = df, aes(x = x, y = y)) +
  geom_point() +
  geom_smooth(method = &quot;lm&quot;)
</code></pre>
<img src="/class/regression_files/figure-html/unnamed-chunk-5-1.png" width="672" />
<h2 id="ir-econ">IR Econ</h2>
<p>The plot</p>
<pre><code class="language-r">ir_1959 = trade %&gt;%
  filter(year == 2008)


ggplot(ir_1959, aes(x = imports, y = exports,
                    label = country)) + geom_point() + geom_smooth(method = &quot;lm&quot;) +
  geom_text()
</code></pre>
<img src="/class/regression_files/figure-html/unnamed-chunk-6-1.png" width="672" />
<p>Estimate a model, and interpret:</p>
<pre><code class="language-r">library(broom)

igo_pop = lm(exports ~ pop, data = trade)

tidy(igo_pop)
</code></pre>
<pre><code>## # A tibble: 2 × 5
##   term            estimate     std.error statistic  p.value
##   &lt;chr&gt;              &lt;dbl&gt;         &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept) 13322.       1023.              13.0 1.81e-38
## 2 pop             0.000393    0.00000920      42.7 0
</code></pre>
<p>Penguins regression:</p>
<pre><code class="language-r">penguins_model = lm(body_mass_g ~ species,
                    data = penguins)

tidy(penguins_model)
</code></pre>
<pre><code>## # A tibble: 3 × 5
##   term             estimate std.error statistic   p.value
##   &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)        3701.       37.6    98.4   2.49e-251
## 2 speciesChinstrap     32.4      67.5     0.480 6.31e-  1
## 3 speciesGentoo      1375.       56.1    24.5   5.42e- 77
</code></pre>
<p>Interpretation:</p>
<ul>
<li>Chinstrap penguins weigh 32 more grams, on average, than Adelie penguins.</li>
<li>Gentoo penguins weigh 1,375 more grams, on average, than Adelie penguins.</li>
<li>Adelie penguins weigh, on average, 3,700 grams.</li>
</ul>
<p>another one:</p>
<pre><code class="language-r">lm(tvhours ~ race, data = gss_cat) %&gt;%
  tidy()
</code></pre>
<pre><code>## # A tibble: 3 × 5
##   term        estimate std.error statistic   p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)  2.76       0.0792    34.9   3.90e-253
## 2 raceBlack    1.42       0.100     14.1   5.90e- 45
## 3 raceWhite    0.00894    0.0838     0.107 9.15e-  1
</code></pre>
<p>Interpretation:</p>
<ul>
<li>Black respondents watch 1.42 more hours of tv, on average, than respondents who identify as “Other”.</li>
<li>White respondents watch .009 more hours of tv, on average, than respondents who identify as “Other”.</li>
<li>Respondents who identify as “Other” watch, on average, 2.76 hours of TV.</li>
</ul>

                    </div>

                    



                    
                </div>

                <div class="body-footer">
                    <p>Last updated on January 1, 0001</p>

                    





                    

                </div>

            </article>

            <footer>
    <hr>

    <div class="row course-info">
        <div class="col-md-7">
            <p>
                <strong>POLI502: Methods of Political Analysis (Fall 2023)</strong><br>

                <a href="https://sc.edu/" target="_blank" rel="noopener">University of South Carolina</a> &emsp;&emsp;
                <a href="https://sc.edu/" target="_blank" rel="noopener">Department of Political Science</a>
            </p>

            <p>
                <a href="https://www.howardhliu.com" target="_blank" rel="noopener"><i class="fas fa-user"></i>
                    Howard Liu</a> &emsp;&emsp;
                <a href="mailto:howard.liu@sc.edu"><i class="fas fa-envelope"></i>
                    howard.liu@sc.edu</a>
            </p>

            <p>
                <i class="far fa-calendar-alt"></i> T,TH &emsp;&emsp;
                <i class="far fa-clock"></i> 2:50 PM - 4:00 PM <br>
                <i class="fas fa-university"></i> GAM 502
            </p>
        </div>

        <div class="col-md-5 credits">
            <p>All content licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.</p>
            
            <p>Content <i class="fab fa-creative-commons"></i> 2023 <a href="https://www.howardhliu.com" target="_blank" rel="noopener">Howard Liu</a></p>                    
            
            <p><a href="https://github.com/haoliuhoward/" target="_blank" rel="noopener"><i class="fab fa-github"></i> View the source at GitHub.</a></p>
        </div>
    </div>
</footer>


        </main>
    </div>
</div>

        

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js" integrity="sha512-7t8APmYpzEsZP7CYoA7RfMPV9Bb+PJHa9x2WiUnDXZx3XHveuyWUtvNOexhkierl5flZ3tr92dP1mMS+SGlD+A==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    

    
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academic.min.0fb7942447739a02d0f559c43b9bf1aa.js"></script>

    






    
    

    
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
