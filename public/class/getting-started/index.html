<!DOCTYPE html>
<html lang="en" 
      xmlns:og="http://ogp.me/ns#" 
      xmlns:fb="https://www.facebook.com/2008/fbml">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="In-class example Here’s the code we’ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesn’t trigger download, you should right-click and select “save link as…”.
UN Voting Data
Example: UN voting patterns Your first class script eat-cake.R does two things:
takes a dataset that records every vote at the UN going back decades and cleans it visualizes voting patterns over time for the US and Turkey At this point, none of this should “make sense” to you.">

  
  <link rel="alternate" hreflang="en" href="/class/getting-started/">

  


  
  
  
  <meta name="theme-color" content="#b55716">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu1e2353bd87e0b7890d448fb2a2c440a0_1004273_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu1e2353bd87e0b7890d448fb2a2c440a0_1004273_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="/class/getting-started/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@haoliuhoward">
  <meta property="twitter:creator" content="@haoliuhoward">
  
  <meta property="og:site_name" content="Methods of Political Analysis">
  <meta property="og:url" content="/class/getting-started/">
  <meta property="og:title" content="R, Rstudio, basics | Methods of Political Analysis">
  <meta property="og:description" content="In-class example Here’s the code we’ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesn’t trigger download, you should right-click and select “save link as…”.
UN Voting Data
Example: UN voting patterns Your first class script eat-cake.R does two things:
takes a dataset that records every vote at the UN going back decades and cleans it visualizes voting patterns over time for the US and Turkey At this point, none of this should “make sense” to you."><meta property="og:image" content="/media/social-image.png">
  <meta property="twitter:image" content="/media/social-image.png"><meta property="og:locale" content="en">
  
    
    
  

  



  


  


  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/img/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/img/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/img/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16" />
  <meta name="application-name" content="POLI502: Methods of Political Analysis" />
  <meta name="msapplication-TileColor" content="#FFFFFF" />
  <meta name="msapplication-TileImage" content="/img/mstile-144x144.png" />


  <title>R, Rstudio, basics | Methods of Political Analysis</title>

</head>


<body id="top" data-spy="scroll" data-offset="70"
    data-target="#TableOfContents"
    >

    <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Methods of Political Analysis</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Methods of Political Analysis</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/assignment/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/reference/"><span>Reference</span></a>
        </li>

        
        

        

        
        
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/"><span><i class="fab fa-slack"></i> Slack</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      

      

      

    </ul>

  </div>
</nav>



    

<div class="container-fluid docs">
    <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
            





  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/class/getting-started/">Class</a>
    <ul class="nav docs-sidenav">
      
      <li class="active">
        <a href="/class/getting-started/">R, Rstudio, basics</a>
      </li>
      
      <li >
        <a href="/class/dataviz/">Data visualization</a>
      </li>
      
      <li >
        <a href="/class/data-wrangle/">Data Wrangling</a>
      </li>
      
      <li >
        <a href="/class/data-summary/">Summarizing Data</a>
      </li>
      
      <li >
        <a href="/class/data-tidy/">Tidy data</a>
      </li>
      
      <li >
        <a href="/class/regression/">Correlation and regression</a>
      </li>
      
      <li >
        <a href="/class/prediction/">Prediction</a>
      </li>
      
      <li >
        <a href="/class/causality/">Causality</a>
      </li>
      
      <li >
        <a href="/class/confounds/">Confounds</a>
      </li>
      
      <li >
        <a href="/class/dags/">DAGs</a>
      </li>
      
      <li >
        <a href="/class/controls/">Natural Experiments</a>
      </li>
      
      <li >
        <a href="/class/fixed-effects/">Fixed Effects &#43; DID</a>
      </li>
      
      <li >
        <a href="/class/uncertainty/">Uncertainty</a>
      </li>
      
      <li >
        <a href="/class/rdd/">Regression discontinuity</a>
      </li>
      
      <li >
        <a href="/class/bootstrap/">Bootstrap</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

        </div>

        

        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

            <article class="article">

                <div class="docs-article-container">
                    <h1>R, Rstudio, basics</h1>

                    

                    

                    

                    <div class="article-style">
                        <h2 id="in-class-example">In-class example</h2>
<p>Here’s the code we’ll be using in class. Download it and store it with the rest of your materials for this course. If simply clicking doesn’t trigger download, you should right-click and select “save link as…”.</p>
<p>
<a href="/files/eat-cake.R"><i class="fas fa-file-archive"></i> <code>UN Voting Data</code></a></p>
<h2 id="example-un-voting-patterns">Example: UN voting patterns</h2>
<p>Your first class script <code>eat-cake.R</code> does two things:</p>
<ul>
<li>takes a dataset that records every vote at the UN going back decades and cleans it</li>
<li>visualizes voting patterns over time for the US and Turkey</li>
</ul>
<p>At this point, none of this should “make sense” to you. You do not need to understand what each line of code here does. I just want you to run the code and try to make sense of what the different parts are doing.</p>
<p>Let’s break the script down:</p>
<p>The first thing the script does is load a set of packages, or libraries, which will give us access to the UN data and functions to use with that data.</p>
<pre><code class="language-r">library(tidyverse)
library(unvotes) # this is where the UN data lives
library(lubridate)
library(scales)
</code></pre>
<p>We can see some of the UN data below:</p>
<pre><code class="language-r">un_votes %&gt;%
  slice(1:5) %&gt;%
  knitr::kable()
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right">rcid</th>
<th style="text-align:left">country</th>
<th style="text-align:left">country_code</th>
<th style="text-align:left">vote</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:left">United States</td>
<td style="text-align:left">US</td>
<td style="text-align:left">yes</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:left">Canada</td>
<td style="text-align:left">CA</td>
<td style="text-align:left">no</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:left">Cuba</td>
<td style="text-align:left">CU</td>
<td style="text-align:left">yes</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:left">Haiti</td>
<td style="text-align:left">HT</td>
<td style="text-align:left">yes</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:left">Dominican Republic</td>
<td style="text-align:left">DO</td>
<td style="text-align:left">yes</td>
</tr>
</tbody>
</table>
<p>The variable <code>rcid</code> is the way the data identifies the issue being voted on. So on RCID 3, the US voted “yes” while Canada voted “no”.</p>
<p>Here are some of the issues:</p>
<pre><code class="language-r">un_roll_calls %&gt;%
  select(rcid, date, short) %&gt;%
  slice(1:5) %&gt;%
  knitr::kable()
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:right">rcid</th>
<th style="text-align:left">date</th>
<th style="text-align:left">short</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:left">1946-01-01</td>
<td style="text-align:left">AMENDMENTS, RULES OF PROCEDURE</td>
</tr>
<tr>
<td style="text-align:right">4</td>
<td style="text-align:left">1946-01-02</td>
<td style="text-align:left">SECURITY COUNCIL ELECTIONS</td>
</tr>
<tr>
<td style="text-align:right">5</td>
<td style="text-align:left">1946-01-04</td>
<td style="text-align:left">VOTING PROCEDURE</td>
</tr>
<tr>
<td style="text-align:right">6</td>
<td style="text-align:left">1946-01-04</td>
<td style="text-align:left">DECLARATION OF HUMAN RIGHTS</td>
</tr>
<tr>
<td style="text-align:right">7</td>
<td style="text-align:left">1946-01-02</td>
<td style="text-align:left">GENERAL ASSEMBLY ELECTIONS</td>
</tr>
</tbody>
</table>
<p>The next chunk of code takes the UN voting data and calculates the percentage of times the US and Turkey voted “yes” on an issue in each year for which there is data.</p>
<pre><code class="language-r">un_yes = un_votes %&gt;%
  filter(country %in% c(&quot;United States&quot;, &quot;Turkey&quot;)) %&gt;%
  inner_join(un_roll_calls, by = &quot;rcid&quot;) %&gt;%
  inner_join(un_roll_call_issues, by = &quot;rcid&quot;) %&gt;%
  group_by(country, year = year(date), issue) %&gt;%
  summarize(
    votes = n(),
    percent_yes = mean(vote == &quot;yes&quot;)
  ) %&gt;%
  filter(votes &gt; 5)  # only use records where there are more than 5 votes
</code></pre>
<p>You can see the results of this below:</p>
<pre><code class="language-r">un_yes %&gt;%
  head() %&gt;%
  knitr::kable()
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">country</th>
<th style="text-align:right">year</th>
<th style="text-align:left">issue</th>
<th style="text-align:right">votes</th>
<th style="text-align:right">percent_yes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Turkey</td>
<td style="text-align:right">1946</td>
<td style="text-align:left">Colonialism</td>
<td style="text-align:right">15</td>
<td style="text-align:right">0.8000000</td>
</tr>
<tr>
<td style="text-align:left">Turkey</td>
<td style="text-align:right">1946</td>
<td style="text-align:left">Economic development</td>
<td style="text-align:right">10</td>
<td style="text-align:right">0.6000000</td>
</tr>
<tr>
<td style="text-align:left">Turkey</td>
<td style="text-align:right">1947</td>
<td style="text-align:left">Colonialism</td>
<td style="text-align:right">9</td>
<td style="text-align:right">0.2222222</td>
</tr>
<tr>
<td style="text-align:left">Turkey</td>
<td style="text-align:right">1947</td>
<td style="text-align:left">Palestinian conflict</td>
<td style="text-align:right">7</td>
<td style="text-align:right">0.1428571</td>
</tr>
<tr>
<td style="text-align:left">Turkey</td>
<td style="text-align:right">1948</td>
<td style="text-align:left">Colonialism</td>
<td style="text-align:right">12</td>
<td style="text-align:right">0.4166667</td>
</tr>
<tr>
<td style="text-align:left">Turkey</td>
<td style="text-align:right">1948</td>
<td style="text-align:left">Arms control and disarmament</td>
<td style="text-align:right">9</td>
<td style="text-align:right">0.0000000</td>
</tr>
</tbody>
</table>
<p>So in 1946 Turkey voted 15 times on issues related to “Colonialism”, and of those votes, 80% were a “yes”.</p>
<p>This last bit of code produces the visualization:</p>
<pre><code class="language-r">ggplot(un_yes, aes(x = year, y = percent_yes, color = country)) +
  geom_point() +
  geom_smooth(method = &quot;loess&quot;, se = FALSE) +
  facet_wrap(~ issue) +
  labs(
    title = &quot;Percentage of 'Yes' votes in the UN General Assembly&quot;,
    subtitle = &quot;1946 to 2015&quot;,
    y = &quot;% Yes&quot;,
    x = &quot;Year&quot;,
    color = &quot;Country&quot;
  ) +
  scale_y_continuous(labels = percent)
</code></pre>
<img src="/class/getting-started_files/figure-html/unnamed-chunk-5-1.png" width="672" />
<p>Try playing around with the code! What happens when you replace the United States and/or Turkey with another country?</p>

                    </div>

                    



                    
                </div>

                <div class="body-footer">
                    <p>Last updated on January 1, 0001</p>

                    





                    

                </div>

            </article>

            <footer>
    <hr>

    <div class="row course-info">
        <div class="col-md-7">
            <p>
                <strong>POLI502: Methods of Political Analysis (Fall 2023)</strong><br>

                <a href="https://sc.edu/" target="_blank" rel="noopener">University of South Carolina</a> &emsp;&emsp;
                <a href="https://sc.edu/" target="_blank" rel="noopener">Department of Political Science</a>
            </p>

            <p>
                <a href="https://www.howardhliu.com" target="_blank" rel="noopener"><i class="fas fa-user"></i>
                    Howard Liu</a> &emsp;&emsp;
                <a href="mailto:howard.liu@sc.edu"><i class="fas fa-envelope"></i>
                    howard.liu@sc.edu</a>
            </p>

            <p>
                <i class="far fa-calendar-alt"></i> T,TH &emsp;&emsp;
                <i class="far fa-clock"></i> 2:50 PM - 4:00 PM <br>
                <i class="fas fa-university"></i> GAM 502
            </p>
        </div>

        <div class="col-md-5 credits">
            <p>All content licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.</p>
            
            <p>Content <i class="fab fa-creative-commons"></i> 2023 <a href="https://www.howardhliu.com" target="_blank" rel="noopener">Howard Liu</a></p>                    
            
            <p><a href="https://github.com/haoliuhoward/" target="_blank" rel="noopener"><i class="fab fa-github"></i> View the source at GitHub.</a></p>
        </div>
    </div>
</footer>


        </main>
    </div>
</div>

        

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js" integrity="sha512-7t8APmYpzEsZP7CYoA7RfMPV9Bb+PJHa9x2WiUnDXZx3XHveuyWUtvNOexhkierl5flZ3tr92dP1mMS+SGlD+A==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    

    
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academic.min.0fb7942447739a02d0f559c43b9bf1aa.js"></script>

    






    
    

    
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
